[
  {
    "url": "https://api.github.com/repos/openclaw/openclaw/issues/comments/3855579372",
    "html_url": "https://github.com/openclaw/openclaw/pull/9834#issuecomment-3855579372",
    "issue_url": "https://api.github.com/repos/openclaw/openclaw/issues/9834",
    "id": 3855579372,
    "node_id": "IC_kwDOQb6kR87lz3js",
    "user": {
      "login": "greptile-apps[bot]",
      "id": 165735046,
      "node_id": "BOT_kgDOCeDqhg",
      "avatar_url": "https://avatars.githubusercontent.com/in/867647?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/greptile-apps%5Bbot%5D",
      "html_url": "https://github.com/apps/greptile-apps",
      "followers_url": "https://api.github.com/users/greptile-apps%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/greptile-apps%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/greptile-apps%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/greptile-apps%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/greptile-apps%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/greptile-apps%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/greptile-apps%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/greptile-apps%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/greptile-apps%5Bbot%5D/received_events",
      "type": "Bot",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2026-02-05T18:57:09Z",
    "updated_at": "2026-02-05T18:57:09Z",
    "body": "<details>\n<summary>Additional Comments (2)</summary>\n\n**`src/agents/pi-embedded-runner/model.ts`**\n**Incorrect provider config lookup**\n\n`providerCfg` is fetched via `providers[provider]`, but elsewhere in this function you normalize provider IDs (and configs may be keyed by normalized IDs). If a caller passes an unnormalized provider string (e.g. different casing/alias), `providers[provider]` will be `undefined` even when the provider is configured, and you’ll fall through to `Unknown model` (or other fallbacks) incorrectly. Use the same normalized key you computed (`normalizedProvider`) when looking up `providerCfg` to keep behavior consistent.\n\n<details><summary>Prompt To Fix With AI</summary>\n\n`````markdown\nThis is a comment left during a code review.\nPath: src/agents/pi-embedded-runner/model.ts\nLine: 119:122\n\nComment:\n**Incorrect provider config lookup**\n\n`providerCfg` is fetched via `providers[provider]`, but elsewhere in this function you normalize provider IDs (and configs may be keyed by normalized IDs). If a caller passes an unnormalized provider string (e.g. different casing/alias), `providers[provider]` will be `undefined` even when the provider is configured, and you’ll fall through to `Unknown model` (or other fallbacks) incorrectly. Use the same normalized key you computed (`normalizedProvider`) when looking up `providerCfg` to keep behavior consistent.\n\nHow can I resolve this? If you propose a fix, please make it concise.\n`````\n</details>\n\n---\n\n**`src/agents/model-catalog.ts`**\n**Cache isn’t really reset**\n\nWhen `models.length === 0`, the code sets `modelCatalogPromise = null` inside the async initializer, but still returns the already-created promise to the caller. This means callers will still receive a cached empty result for that invocation (and potentially continue using it) despite the comment implying it won’t be cached. If the intent is “don’t cache empties”, you need to avoid returning an empty `modelCatalogPromise` in the first place (or re-run load before returning).\n\n<details><summary>Prompt To Fix With AI</summary>\n\n`````markdown\nThis is a comment left during a code review.\nPath: src/agents/model-catalog.ts\nLine: 114:117\n\nComment:\n**Cache isn’t really reset**\n\nWhen `models.length === 0`, the code sets `modelCatalogPromise = null` inside the async initializer, but still returns the already-created promise to the caller. This means callers will still receive a cached empty result for that invocation (and potentially continue using it) despite the comment implying it won’t be cached. If the intent is “don’t cache empties”, you need to avoid returning an empty `modelCatalogPromise` in the first place (or re-run load before returning).\n\nHow can I resolve this? If you propose a fix, please make it concise.\n`````\n</details>\n</details>",
    "author_association": "NONE",
    "pin": null,
    "reactions": {
      "url": "https://api.github.com/repos/openclaw/openclaw/issues/comments/3855579372/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": {
      "id": 867647,
      "client_id": "Iv1.5ad00a8cea2f6701",
      "slug": "greptile-apps",
      "node_id": "A_kwHOCFqEf84ADT0_",
      "owner": {
        "login": "greptileai",
        "id": 140149887,
        "node_id": "O_kgDOCFqEfw",
        "avatar_url": "https://avatars.githubusercontent.com/u/140149887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/greptileai",
        "html_url": "https://github.com/greptileai",
        "followers_url": "https://api.github.com/users/greptileai/followers",
        "following_url": "https://api.github.com/users/greptileai/following{/other_user}",
        "gists_url": "https://api.github.com/users/greptileai/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/greptileai/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/greptileai/subscriptions",
        "organizations_url": "https://api.github.com/users/greptileai/orgs",
        "repos_url": "https://api.github.com/users/greptileai/repos",
        "events_url": "https://api.github.com/users/greptileai/events{/privacy}",
        "received_events_url": "https://api.github.com/users/greptileai/received_events",
        "type": "Organization",
        "user_view_type": "public",
        "site_admin": false
      },
      "name": "Greptile Apps",
      "description": "Greptile is an AI-expert on any codebase that can answer any questions about it, review PRs, and more. \r\n\r\n1. **Auto-PR review**: Get context-aware comments on every PR. Catch potential issues that human reviewers might not.\r\n2. **Issue Enricher**: Add context-based tips on where to start. Drop the barrier to take on a ticket.\r\n\r\nYou can use it for free by signing up at [Greptile.com](https://greptile.com/)",
      "external_url": "https://greptile.com/",
      "html_url": "https://github.com/apps/greptile-apps",
      "created_at": "2024-04-02T00:16:23Z",
      "updated_at": "2026-01-08T22:30:23Z",
      "permissions": {
        "checks": "write",
        "contents": "read",
        "issues": "write",
        "metadata": "read",
        "pull_requests": "write",
        "statuses": "write"
      },
      "events": [
        "issues",
        "issue_comment",
        "pull_request",
        "pull_request_review",
        "pull_request_review_comment",
        "pull_request_review_thread"
      ]
    }
  },
  {
    "url": "https://api.github.com/repos/openclaw/openclaw/issues/comments/3855699538",
    "html_url": "https://github.com/openclaw/openclaw/pull/9834#issuecomment-3855699538",
    "issue_url": "https://api.github.com/repos/openclaw/openclaw/issues/9834",
    "id": 3855699538,
    "node_id": "IC_kwDOQb6kR87l0U5S",
    "user": {
      "login": "NagliNagli",
      "id": 35578316,
      "node_id": "MDQ6VXNlcjM1NTc4MzE2",
      "avatar_url": "https://avatars.githubusercontent.com/u/35578316?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NagliNagli",
      "html_url": "https://github.com/NagliNagli",
      "followers_url": "https://api.github.com/users/NagliNagli/followers",
      "following_url": "https://api.github.com/users/NagliNagli/following{/other_user}",
      "gists_url": "https://api.github.com/users/NagliNagli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NagliNagli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NagliNagli/subscriptions",
      "organizations_url": "https://api.github.com/users/NagliNagli/orgs",
      "repos_url": "https://api.github.com/users/NagliNagli/repos",
      "events_url": "https://api.github.com/users/NagliNagli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NagliNagli/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2026-02-05T19:14:07Z",
    "updated_at": "2026-02-05T19:14:07Z",
    "body": "this is very urgent, CC @iancarroll",
    "author_association": "NONE",
    "pin": null,
    "reactions": {
      "url": "https://api.github.com/repos/openclaw/openclaw/issues/comments/3855699538/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/openclaw/openclaw/issues/comments/3855754228",
    "html_url": "https://github.com/openclaw/openclaw/pull/9834#issuecomment-3855754228",
    "issue_url": "https://api.github.com/repos/openclaw/openclaw/issues/9834",
    "id": 3855754228,
    "node_id": "IC_kwDOQb6kR87l0iP0",
    "user": {
      "login": "gumadeiras",
      "id": 5599352,
      "node_id": "MDQ6VXNlcjU1OTkzNTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5599352?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gumadeiras",
      "html_url": "https://github.com/gumadeiras",
      "followers_url": "https://api.github.com/users/gumadeiras/followers",
      "following_url": "https://api.github.com/users/gumadeiras/following{/other_user}",
      "gists_url": "https://api.github.com/users/gumadeiras/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gumadeiras/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gumadeiras/subscriptions",
      "organizations_url": "https://api.github.com/users/gumadeiras/orgs",
      "repos_url": "https://api.github.com/users/gumadeiras/repos",
      "events_url": "https://api.github.com/users/gumadeiras/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gumadeiras/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2026-02-05T19:25:08Z",
    "updated_at": "2026-02-05T19:25:09Z",
    "body": "> The root cause is a dependency chain: OpenClaw → pi-coding-agent → pi-ai → models.generated.js. When Anthropic drops a new model, this chain can take days to update.\r\n\r\nnot true; `pi` has already added opus 4.6 (minutes after Anthropic's announcement). The dependency chain is by design. Will be available in the next `OpenClaw` release",
    "author_association": "MEMBER",
    "pin": null,
    "reactions": {
      "url": "https://api.github.com/repos/openclaw/openclaw/issues/comments/3855754228/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
