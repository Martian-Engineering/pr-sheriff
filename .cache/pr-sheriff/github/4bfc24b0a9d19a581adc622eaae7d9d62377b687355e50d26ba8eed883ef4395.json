{
  "url": "https://api.github.com/repos/openclaw/openclaw/issues/9452",
  "repository_url": "https://api.github.com/repos/openclaw/openclaw",
  "labels_url": "https://api.github.com/repos/openclaw/openclaw/issues/9452/labels{/name}",
  "comments_url": "https://api.github.com/repos/openclaw/openclaw/issues/9452/comments",
  "events_url": "https://api.github.com/repos/openclaw/openclaw/issues/9452/events",
  "html_url": "https://github.com/openclaw/openclaw/issues/9452",
  "id": 3900062283,
  "node_id": "I_kwDOQb6kR87odjpL",
  "number": 9452,
  "title": "cron.status / cron.list often take 60–200s → CLI times out at default 10s (macOS, lane contention?)",
  "user": {
    "login": "copperdogma",
    "id": 1694113,
    "node_id": "MDQ6VXNlcjE2OTQxMTM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1694113?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/copperdogma",
    "html_url": "https://github.com/copperdogma",
    "followers_url": "https://api.github.com/users/copperdogma/followers",
    "following_url": "https://api.github.com/users/copperdogma/following{/other_user}",
    "gists_url": "https://api.github.com/users/copperdogma/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/copperdogma/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/copperdogma/subscriptions",
    "organizations_url": "https://api.github.com/users/copperdogma/orgs",
    "repos_url": "https://api.github.com/users/copperdogma/repos",
    "events_url": "https://api.github.com/users/copperdogma/events{/privacy}",
    "received_events_url": "https://api.github.com/users/copperdogma/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 1,
  "created_at": "2026-02-05T07:14:26Z",
  "updated_at": "2026-02-07T02:06:05Z",
  "closed_at": "2026-02-07T02:06:05Z",
  "author_association": "NONE",
  "type": null,
  "active_lock_reason": null,
  "sub_issues_summary": {
    "total": 0,
    "completed": 0,
    "percent_completed": 0
  },
  "issue_dependencies_summary": {
    "blocked_by": 0,
    "total_blocked_by": 0,
    "blocking": 0,
    "total_blocking": 0
  },
  "body": "## Summary\nOn a macOS host (Mac mini 2018, 8GB), the Gateway frequently takes **60–200s** to respond to `cron.status` / `cron.list`, causing the OpenClaw CLI to error with the default `--timeout 10000` (\"Error: gateway timeout after 10000ms\").\n\nThe gateway is healthy (`openclaw gateway status` → `RPC probe: ok`) and the cron store is small (~19KB, 9 jobs). This appears to be **RPC latency / lane contention**, not a corrupted cron store.\n\n## Environment\n- OpenClaw: 2026.2.2-3\n- OS: macOS Sequoia 15.7.2 (Darwin 24.6.0)\n- Node: 24.12.0 (service command: `/usr/local/bin/node ... gateway --port 18789`)\n- Gateway bind: loopback 127.0.0.1:18789\n\n## Symptoms\n- `openclaw cron status` / `openclaw cron list` often fail:\n  - `Error: gateway timeout after 10000ms`\n- With larger timeout they succeed but are extremely slow:\n  - `openclaw cron list --timeout 120000` succeeded but took ~114s (observed)\n\n## Evidence from gateway logs\nFrom `/tmp/openclaw/openclaw-2026-02-04.log`, there are many successful but very slow responses:\n- `⇄ res ✓ cron.list 212603ms ...` (212s)\n- `⇄ res ✓ cron.list 204194ms ...`\n- `⇄ res ✓ cron.status 118209ms ...`\n\nExample (same window also shows long main-lane work):\n- `⇄ res ✓ cron.list 212603ms ...` (line ~7596)\n- `lane task done: lane=main durationMs=511198 active=0 queued=0` (line ~7612)\n\nAdditionally, one one-shot job state repeatedly showed:\n- `lastStatus=skipped`\n- `lastError=\"timeout waiting for main lane to become idle\"`\n\nThis suggests cron RPC handlers and/or at-job execution may be blocked behind (or coordinated with) **main lane idleness**, causing cron RPC starvation when the agent is busy.\n\n## Expected\n- `cron.status` / `cron.list` should be fast (sub-second to a few seconds) and not depend on the main agent lane.\n\n## Questions\n1) Are `cron.status` / `cron.list` handled on the main lane today?\n2) Is there known lane/lock contention between the cron subsystem and the session/agent lane?\n3) Are there mitigations (config knobs / lane assignment / caching cron snapshot) to avoid starving cron RPC?\n\n## Workarounds currently used\n- Use `--timeout 120000` for cron CLI commands.\n- For health checks, read `~/.openclaw/cron/jobs.json` directly when RPC wedges.\n",
  "closed_by": {
    "login": "tyler6204",
    "id": 64381258,
    "node_id": "MDQ6VXNlcjY0MzgxMjU4",
    "avatar_url": "https://avatars.githubusercontent.com/u/64381258?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tyler6204",
    "html_url": "https://github.com/tyler6204",
    "followers_url": "https://api.github.com/users/tyler6204/followers",
    "following_url": "https://api.github.com/users/tyler6204/following{/other_user}",
    "gists_url": "https://api.github.com/users/tyler6204/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tyler6204/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tyler6204/subscriptions",
    "organizations_url": "https://api.github.com/users/tyler6204/orgs",
    "repos_url": "https://api.github.com/users/tyler6204/repos",
    "events_url": "https://api.github.com/users/tyler6204/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tyler6204/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/openclaw/openclaw/issues/9452/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/openclaw/openclaw/issues/9452/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed",
  "pinned_comment": null
}
