{
  "url": "https://api.github.com/repos/openclaw/openclaw/issues/1963",
  "repository_url": "https://api.github.com/repos/openclaw/openclaw",
  "labels_url": "https://api.github.com/repos/openclaw/openclaw/issues/1963/labels{/name}",
  "comments_url": "https://api.github.com/repos/openclaw/openclaw/issues/1963/comments",
  "events_url": "https://api.github.com/repos/openclaw/openclaw/issues/1963/events",
  "html_url": "https://github.com/openclaw/openclaw/issues/1963",
  "id": 3853901517,
  "node_id": "I_kwDOQb6kR87ltd7N",
  "number": 1963,
  "title": "Plugin install fails on Windows: spawn npm ENOENT",
  "user": {
    "login": "sceboucher",
    "id": 11708389,
    "node_id": "MDQ6VXNlcjExNzA4Mzg5",
    "avatar_url": "https://avatars.githubusercontent.com/u/11708389?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/sceboucher",
    "html_url": "https://github.com/sceboucher",
    "followers_url": "https://api.github.com/users/sceboucher/followers",
    "following_url": "https://api.github.com/users/sceboucher/following{/other_user}",
    "gists_url": "https://api.github.com/users/sceboucher/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/sceboucher/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/sceboucher/subscriptions",
    "organizations_url": "https://api.github.com/users/sceboucher/orgs",
    "repos_url": "https://api.github.com/users/sceboucher/repos",
    "events_url": "https://api.github.com/users/sceboucher/events{/privacy}",
    "received_events_url": "https://api.github.com/users/sceboucher/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [
    {
      "id": 9706244967,
      "node_id": "LA_kwDOQb6kR88AAAACQomLZw",
      "url": "https://api.github.com/repos/openclaw/openclaw/labels/bug",
      "name": "bug",
      "color": "d73a4a",
      "default": true,
      "description": "Something isn't working"
    },
    {
      "id": 10080590826,
      "node_id": "LA_kwDOQb6kR88AAAACWNmb6g",
      "url": "https://api.github.com/repos/openclaw/openclaw/labels/r:%20support",
      "name": "r: support",
      "color": "b60205",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 4,
  "created_at": "2026-01-25T21:42:29Z",
  "updated_at": "2026-01-30T16:40:47Z",
  "closed_at": "2026-01-30T16:40:47Z",
  "author_association": "NONE",
  "type": null,
  "active_lock_reason": null,
  "sub_issues_summary": {
    "total": 0,
    "completed": 0,
    "percent_completed": 0
  },
  "issue_dependencies_summary": {
    "blocked_by": 0,
    "total_blocked_by": 0,
    "blocking": 0,
    "total_blocking": 0
  },
  "body": "## Description\nPlugin installation via the web UI fails on Windows with:\n\\\\\\\nInstall failed (unknown exit): spawn npm ENOENT\n\\\\\\\n\n## Root Cause\nIn \\dist/plugins/install.js\\, the code uses:\n\\\\\\javascript\nawait runCommandWithTimeout([npm, install, --omit=dev, --silent], ...)\n\\\\\\\n\nAnd in \\dist/process/exec.js\\, \\\runCommandWithTimeout\\ uses \\spawn()\\ without \\shell: true\\:\n\\\\\\javascript\nconst child = spawn(argv[0], argv.slice(1), { stdio, cwd, env, ... });\n\\\\\\\n\nOn Windows, npm is installed as \\\npm.cmd\\ (a batch file wrapper). Node's \\spawn()\\ cannot execute \\.cmd\\ files without \\shell: true\\.\n\n## Environment\n- Windows 11\n- Node.js v24.1.0\n- Clawdbot 2026.1.24-3\n- npm 11.3.0 (installed at C:\\Program Files\\nodejs\\npm.cmd)\n\n## Suggested Fix\nAdd \\shell: true\\ on Windows in \\\runCommandWithTimeout\\:\n\\\\\\javascript\nconst child = spawn(argv[0], argv.slice(1), {\n  stdio,\n  cwd,\n  env: resolvedEnv,\n  windowsVerbatimArguments,\n  shell: process.platform === 'win32',  // <-- Add this\n});\n\\\\\\\n\n## Workaround\nUse CLI instead of web UI:\n\\\\\\\nclawdbot plugins install @clawdbot/matrix\n\\\\\\\n",
  "closed_by": {
    "login": "openclaw-barnacle[bot]",
    "id": 257215752,
    "node_id": "BOT_kgDOD1TNCA",
    "avatar_url": "https://avatars.githubusercontent.com/in/2729701?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/openclaw-barnacle%5Bbot%5D",
    "html_url": "https://github.com/apps/openclaw-barnacle",
    "followers_url": "https://api.github.com/users/openclaw-barnacle%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/openclaw-barnacle%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/openclaw-barnacle%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/openclaw-barnacle%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/openclaw-barnacle%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/openclaw-barnacle%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/openclaw-barnacle%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/openclaw-barnacle%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/openclaw-barnacle%5Bbot%5D/received_events",
    "type": "Bot",
    "user_view_type": "public",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/openclaw/openclaw/issues/1963/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/openclaw/openclaw/issues/1963/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
