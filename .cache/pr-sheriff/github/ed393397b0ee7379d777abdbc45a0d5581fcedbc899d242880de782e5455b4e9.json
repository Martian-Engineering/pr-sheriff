{
  "url": "https://api.github.com/repos/openclaw/openclaw/issues/6828",
  "repository_url": "https://api.github.com/repos/openclaw/openclaw",
  "labels_url": "https://api.github.com/repos/openclaw/openclaw/issues/6828/labels{/name}",
  "comments_url": "https://api.github.com/repos/openclaw/openclaw/issues/6828/comments",
  "events_url": "https://api.github.com/repos/openclaw/openclaw/issues/6828/events",
  "html_url": "https://github.com/openclaw/openclaw/issues/6828",
  "id": 3883697975,
  "node_id": "I_kwDOQb6kR87nfIc3",
  "number": 6828,
  "title": "[Bug] Cron agentTurn payload.model parameter is ignored - jobs run on wrong model",
  "user": {
    "login": "ryanszu9904-collab",
    "id": 258718941,
    "node_id": "U_kgDOD2u83Q",
    "avatar_url": "https://avatars.githubusercontent.com/u/258718941?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ryanszu9904-collab",
    "html_url": "https://github.com/ryanszu9904-collab",
    "followers_url": "https://api.github.com/users/ryanszu9904-collab/followers",
    "following_url": "https://api.github.com/users/ryanszu9904-collab/following{/other_user}",
    "gists_url": "https://api.github.com/users/ryanszu9904-collab/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ryanszu9904-collab/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ryanszu9904-collab/subscriptions",
    "organizations_url": "https://api.github.com/users/ryanszu9904-collab/orgs",
    "repos_url": "https://api.github.com/users/ryanszu9904-collab/repos",
    "events_url": "https://api.github.com/users/ryanszu9904-collab/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ryanszu9904-collab/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [
    {
      "id": 9706244967,
      "node_id": "LA_kwDOQb6kR88AAAACQomLZw",
      "url": "https://api.github.com/repos/openclaw/openclaw/labels/bug",
      "name": "bug",
      "color": "d73a4a",
      "default": true,
      "description": "Something isn't working"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 1,
  "created_at": "2026-02-02T03:08:15Z",
  "updated_at": "2026-02-07T02:05:58Z",
  "closed_at": "2026-02-07T02:05:58Z",
  "author_association": "NONE",
  "type": null,
  "active_lock_reason": null,
  "sub_issues_summary": {
    "total": 0,
    "completed": 0,
    "percent_completed": 0
  },
  "issue_dependencies_summary": {
    "blocked_by": 0,
    "total_blocked_by": 0,
    "blocking": 0,
    "total_blocking": 0
  },
  "body": "## Description\n\nWhen creating cron jobs with `payload.kind: \"agentTurn\"` and specifying a `model` parameter in the payload, the model parameter is ignored and the job runs on the session's default model (or Opus) instead.\n\n## Steps to Reproduce\n\n1. Create a cron job with agentTurn payload:\n```javascript\n{\n  \"name\": \"test-gemini\",\n  \"schedule\": { \"kind\": \"cron\", \"expr\": \"0 * * * *\" },\n  \"payload\": {\n    \"kind\": \"agentTurn\",\n    \"message\": \"Test message\",\n    \"model\": \"google/gemini-2.5-flash\"  // Should use Gemini\n  },\n  \"sessionTarget\": \"isolated\"\n}\n```\n\n2. Observe that the job runs on Opus instead of Gemini\n\n## Expected Behavior\n\nThe cron job should use the model specified in `payload.model` (e.g., `google/gemini-2.5-flash`).\n\n## Actual Behavior\n\nThe model parameter is ignored and the job runs on the more expensive default model (Opus), causing unnecessary token costs.\n\n## Environment\n\n- OpenClaw version: Latest (Feb 2026)\n- Platform: macOS (arm64)\n\n## Additional Context\n\nThis makes cost-conscious scheduling impossible since cheap/free models (like Gemini) cannot be targeted for routine tasks. The workaround is to disable automated jobs and run everything manually, which defeats the purpose of cron scheduling.\n\nThe same issue may affect the `thinking` parameter in agentTurn payloads.\n",
  "closed_by": {
    "login": "tyler6204",
    "id": 64381258,
    "node_id": "MDQ6VXNlcjY0MzgxMjU4",
    "avatar_url": "https://avatars.githubusercontent.com/u/64381258?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tyler6204",
    "html_url": "https://github.com/tyler6204",
    "followers_url": "https://api.github.com/users/tyler6204/followers",
    "following_url": "https://api.github.com/users/tyler6204/following{/other_user}",
    "gists_url": "https://api.github.com/users/tyler6204/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tyler6204/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tyler6204/subscriptions",
    "organizations_url": "https://api.github.com/users/tyler6204/orgs",
    "repos_url": "https://api.github.com/users/tyler6204/repos",
    "events_url": "https://api.github.com/users/tyler6204/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tyler6204/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/openclaw/openclaw/issues/6828/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/openclaw/openclaw/issues/6828/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed",
  "pinned_comment": null
}
