{
  "url": "https://api.github.com/repos/openclaw/openclaw/issues/10251",
  "repository_url": "https://api.github.com/repos/openclaw/openclaw",
  "labels_url": "https://api.github.com/repos/openclaw/openclaw/issues/10251/labels{/name}",
  "comments_url": "https://api.github.com/repos/openclaw/openclaw/issues/10251/comments",
  "events_url": "https://api.github.com/repos/openclaw/openclaw/issues/10251/events",
  "html_url": "https://github.com/openclaw/openclaw/issues/10251",
  "id": 3905507868,
  "node_id": "I_kwDOQb6kR87oyVIc",
  "number": 10251,
  "title": "[Bug]: Cron scheduler starts but timer never fires — jobs never execute",
  "user": {
    "login": "Geno-Claw",
    "id": 259150561,
    "node_id": "U_kgDOD3JS4Q",
    "avatar_url": "https://avatars.githubusercontent.com/u/259150561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Geno-Claw",
    "html_url": "https://github.com/Geno-Claw",
    "followers_url": "https://api.github.com/users/Geno-Claw/followers",
    "following_url": "https://api.github.com/users/Geno-Claw/following{/other_user}",
    "gists_url": "https://api.github.com/users/Geno-Claw/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Geno-Claw/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Geno-Claw/subscriptions",
    "organizations_url": "https://api.github.com/users/Geno-Claw/orgs",
    "repos_url": "https://api.github.com/users/Geno-Claw/repos",
    "events_url": "https://api.github.com/users/Geno-Claw/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Geno-Claw/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 13,
  "created_at": "2026-02-06T08:12:54Z",
  "updated_at": "2026-02-07T02:06:59Z",
  "closed_at": "2026-02-07T02:06:59Z",
  "author_association": "NONE",
  "type": null,
  "active_lock_reason": null,
  "sub_issues_summary": {
    "total": 0,
    "completed": 0,
    "percent_completed": 0
  },
  "issue_dependencies_summary": {
    "blocked_by": 0,
    "total_blocked_by": 0,
    "blocking": 0,
    "total_blocking": 0
  },
  "body": "## Environment\n- **OpenClaw version**: 2026.2.3-1\n- **OS**: Ubuntu 22.04 (DigitalOcean)\n- **Node**: v22.22.0\n- **Channel**: Discord\n- **Model**: anthropic/claude-opus-4-6 (custom model via models.providers merge)\n\n## Description\nThe cron scheduler module starts correctly and calculates `nextWakeAtMs`, but the internal timer/interval never actually fires. Jobs accumulate `nextRunAtMs` timestamps that pass without execution. No run logs are written.\n\n## Steps to Reproduce\n1. Have multiple cron jobs configured (mix of isolated agentTurn and main systemEvent)\n2. Gateway starts, cron logs `cron: started` with correct `nextWakeAtMs`\n3. Wait past `nextWakeAtMs` — nothing happens\n4. Check run logs — empty, no entries after gateway start\n5. `cron action=status` shows `nextWakeAtMs` has advanced past the current time\n6. Full VPS reboot does not fix the issue\n\n## What I've Tried\n- SIGUSR1 restart (config.patch) — no fix\n- `openclaw gateway restart` — no fix  \n- Full VPS reboot — no fix\n- Deleting and recreating the cron jobs — no fix\n- Created simple test jobs (`* * * * *`, every minute) — they also never fire\n- Manual `sessions_spawn` with identical payload — works perfectly\n- `cron action=run` — returns `{ran: false, reason: 'not-due'}` even when overdue\n\n## Evidence\n\n### Gateway log shows cron started:\n```\n{\"module\":\"cron\"} {enabled:true, jobs:10, nextWakeAtMs:1770365340000} \"cron: started\"\n```\nNo further cron log entries after this. No tick, wake, fire, or error.\n\n### Cron status shows next wake in the past:\n```json\n{\"enabled\": true, \"jobs\": 10, \"nextWakeAtMs\": 1770365340000}\n// That timestamp is 08:09 UTC, current time is 08:12 UTC — already passed, nothing ran\n```\n\n### Run logs are empty for newly created jobs:\n```\n$ cat ~/.openclaw/cron/runs/<new-job-id>.jsonl\n// File doesn't exist — never created\n```\n\n### Manual spawn with same payload works:\n```json\nsessions_spawn(task=\"...\", model=\"anthropic/claude-sonnet-4-5-20250514\")\n// Returns: {status: \"accepted\", childSessionKey: \"...\"}\n// Executes successfully\n```\n\n## Context\n- Cron jobs were working earlier today (have run logs proving successful executions)\n- Issue started after a config.patch that added a custom model definition via `models.providers.anthropic.models[]`\n- The config.patch triggered a SIGUSR1 restart\n- After that restart, no cron job has fired\n- The cron module initialises and calculates schedules, but the actual timer/setInterval never triggers\n- Other users reporting similar issues: reddit.com/r/AI_Agents (\"scheduled task isn't running at the expected time\" on 2026.2.x)\n\n## Expected Behavior\nCron jobs should fire at their scheduled times and execute their payloads.\n\n## Actual Behavior\nCron module starts, calculates next wake time, but the timer callback never executes. Jobs silently fail to run with no error output.",
  "closed_by": {
    "login": "tyler6204",
    "id": 64381258,
    "node_id": "MDQ6VXNlcjY0MzgxMjU4",
    "avatar_url": "https://avatars.githubusercontent.com/u/64381258?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tyler6204",
    "html_url": "https://github.com/tyler6204",
    "followers_url": "https://api.github.com/users/tyler6204/followers",
    "following_url": "https://api.github.com/users/tyler6204/following{/other_user}",
    "gists_url": "https://api.github.com/users/tyler6204/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tyler6204/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tyler6204/subscriptions",
    "organizations_url": "https://api.github.com/users/tyler6204/orgs",
    "repos_url": "https://api.github.com/users/tyler6204/repos",
    "events_url": "https://api.github.com/users/tyler6204/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tyler6204/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/openclaw/openclaw/issues/10251/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/openclaw/openclaw/issues/10251/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed",
  "pinned_comment": null
}
